{"aapilets":{"scim":{"enabled":false,"version":2},"name":"Conjur-Onboarding","title":"","start-connection":"form-definition-1114070838","apiconnection":{"api-webhook-desc":{},"api-custom-values":{},"manualProcess":false,"mask-parameters":{"aapi-custom-values":[],"aapilet-external-request":[],"aapilet-webhook-request-body":["adminPassword(s)"],"api-definition-1111427377":[],"api-definition-1115686217":["identityToken(s)"],"api-definition-1117712315":[],"api-definition-1118289553":[],"dataStore-definition-1114527599":[],"dataStore-definition-1114875920":[],"dataStore-definition-1116764452":[],"transformdata-definition-1111152713":[],"transformdata-definition-1111196445":[],"transformdata-definition-1111713294":[],"transformdata-definition-1111833977":[],"transformdata-definition-1115164424":[],"transformdata-definition-1119922012":[],"form-definition-1114070838":["partnerName"],"transformdata-definition-1117125118":[],"dataStore-definition-1118527051":[]},"run":{"browser":{"enabled":true,"oidcEnabled":true,"oidcid":"122f7595-d091-476b-bf40-bcdd42c82e15","workspaceEnabled":false},"endpoint":{"active":false,"apikey":""},"manual":{"active":true,"postrun":{"api-condition-stop-definition-1115413343":{"close":true,"customredirect":{"enabled":false,"isredirected":false,"redirecturl":[]},"remain":false},"close":false,"customredirect":{"enabled":false,"isredirected":false,"redirecturl":[]},"redirect":false,"redirecturl":"","remain":true,"workspace":false}},"schedule":{"active":false,"day":[],"options":"periodically","periodically":"10m","range":[],"time":[]}},"timer":{"interval-days":"","interval-endtime":"","interval-hours":"","interval-specificdate":"","interval-starttime":"","interval-timezone":"","interval-type":"minutes","interval-value":"10"},"form-definition-1114070838":{"description":"","form-map-template":{"components":[{"type":"button","label":"Submit","key":"submit","disableOnInvalid":true,"input":true,"tableView":false},{"label":"Partner Name","applyMaskOn":"change","tableView":true,"validate":{"required":true},"key":"partnerName","type":"textfield","input":true},{"label":"ISPSS Partner User Name","applyMaskOn":"change","tableView":true,"validate":{"required":true},"key":"userName","type":"textfield","input":true}]},"form-map-values":{"submit":[],"partnerName":[],"userName":[]},"formid":"","ismyform":false,"isTemplate":false,"formname":"Conjur Partner Onboarding Values","formuniqueid":"form-definition-1114070838","definition-id":"1114070838","goto":"dataStore-definition-1116764452","logo":"","type":"form","title":null,"objData":{"item":{"data":{"swagger":"2.0","info":{"version":"1.0.0","title":"api-title-16381948","description":""},"x-applicationinfo":{"x-Company":"company","x-App-Name":"appname","x-App-URL":"Home page of application controlling this API","x-App-Description":"Description of Application","x-App-Logo":"Logo of Application","x-API-Name":"apiname","x-API-Description":"API Description","x-API-Documentation-URL":"API Documentation URL","x-Company-Github":"Company Git URL","x-additionalHostNames":"Name of additional controlling this API","x-Category":"API Category"},"security":[],"paths":{"/example":{"get":{"summary":"Server example operation","description":"This is an example opeartion to show how security is applied to the call.","responses":{"200":{"description":"OK"}}}}},"host":"virtserver.swaggerhub.com","basePath":"/","schemes":["https"],"produces":[],"consumes":[]}}},"appname":"appname-1114070838","basePath":null,"id":"form-definition-1114070838","formheader":"Conjur Partner Onboarding","formheaderdescription":"Create Conjur resources for C3 partner","isEditForm":true,"nodeType":"Form","guid":"form-definition-1114070838"},"dataStore-definition-1116764452":{"dataStore-map-values":{"data":[],"dataname":[{"ref":"text","value":"conjur-partner-root-policy-template","_id":"MID7951093050338913"}]},"dataStoreName":"Get partner root policy template","datastoreType":"read","definition-id":"1116764452","goto":"transformdata-definition-1111833977","guid":"dataStore-definition-1116764452","id":"dataStore-definition-1116764452","isDatastore":true,"nodeType":"DSRead","schema":{},"type":"datastore"},"transformdata-definition-1111833977":{"definition-id":"1111833977","function":{"value":"ReplaceAll","ref":"expression","type":"function","params":[{"value":"MapValue","ref":"expression","type":"function","params":[{"type":"string","ref":"expression","value":"dataStore-definition-1116764452"},{"type":"string","ref":"expression","value":"datastorevalue"}],"member":true,"source":"MapValue(`dataStore-definition-1116764452`,`datastorevalue`)","minArgCount":0,"isAllowEmpty":false},{"value":"{{PARTNER_NAME}}","ref":"expression","type":"string","params":[],"source":"`{{PARTNER_NAME}}`","minArgCount":0,"isAllowEmpty":false},{"value":"MapValue","ref":"expression","type":"function","params":[{"type":"string","ref":"expression","value":"form-definition-1114070838"},{"type":"string","ref":"expression","value":"partnerName"}],"source":"MapValue(`form-definition-1114070838`,`partnerName`)","minArgCount":0,"isAllowEmpty":false}],"source":"ReplaceAll(MapValue(`dataStore-definition-1116764452`,`datastorevalue`),`{{PARTNER_NAME}}`,MapValue(`form-definition-1114070838`,`partnerName`))","minArgCount":3,"isAllowEmpty":false,"_id":"9582e039-79b6-4d92-8a70-f09fe948b0ed","logo":"/pages-gateway/assets/images/formula-white-search.svg"},"goto":"api-definition-1114874190","guid":"transformdata-definition-1111833977","id":"transformdata-definition-1111833977","isTransformData":true,"nodeType":"Transform","schema":{},"transformdataname":"Inject parter name in root policy template","transformuniqueid":"transformdata-definition-1111833977","type":"transformdata"},"api-definition-1114874190":{"api-authentication":{"auth-all-scopes":null,"auth-apikey-location":"","auth-apikey-name":"","auth-apikey-value":"","auth-clientid":"*******","auth-clientsecret":"*******","auth-content-type":"application/json","auth-flow":"accessCode","auth-password":"","auth-refresh-token":"","auth-scopes":[],"auth-token":"","auth-token-url":"https://aax4917.id.cyberark.cloud/oauth2/token/C3_Identity_Flows","auth-type":"oauth2","auth-url":"https://aax4917.id.cyberark.cloud/oauth2/authorize/C3_Identity_Flows","auth-userid":"","smtp-server-port":0,"smtp-server-url":""},"api-call-body":[{"ref":"text","value":"","_id":"MID49362766652499324"},{"description":"TransformData-1111833977","ref":"transformdata-definition-1111833977","name":"Tranformed Value","value":"transformedvalue","type":"{}","maskParameter":false,"_id":"MID9545808909270297","logo":"/pages-gateway/assets/images/builder/transform-solid.svg","list":[""]},{"ref":"text","value":"","_id":"MID4115743391467521"}],"api-call-contenttype":"application/json","api-call-form":{},"api-call-header":{"Authorization":[{"ref":"text","value":"","_id":"MID7960201090518648"}]},"api-call-path":{"account":[{"_id":"MID08308399843829051","ref":"text","value":"conjur"}],"identifier":[{"_id":"MID3381431700241766","ref":"text","value":"data"}]},"api-call-query":{},"api-call-type":"post","api-description":"loadPolicy","api-map-config":{"api-call-body":{"description":"Policy","location":"body","name":"body","webhookInput":null,"webhookValidation":null,"required":false,"prompt":false,"defaultParameter":true},"api-call-form":{},"api-call-header":{"Authorization":{"description":"","location":"header","name":"Authorization","type":"string","webhookInput":null,"webhookValidation":null,"required":false,"prompt":false,"defaultParameter":true}},"api-call-path":{"account":{"description":"Organization account name","location":"path","name":"account","type":"string","webhookInput":null,"webhookValidation":null,"required":false,"prompt":false,"defaultParameter":true},"identifier":{"description":"ID of the policy to update","location":"path","name":"identifier","type":"string","webhookInput":null,"webhookValidation":null,"required":false,"prompt":false,"defaultParameter":true}},"api-call-query":{}},"api-map-desc":{"api-call-body":"","api-call-form":{},"api-call-header":{},"api-call-path":{},"api-call-query":{}},"apiid":"00569c36-a122-4c46-9ca1-4f2e09cd9b2f","apiname":"Load Policy","apiuniqueid":"","appname":"Conjur","authRequired":false,"basePath":"/","company":"CyberArk","definition-id":"1114874190","endpoint":"/policies/{account}/policy/{identifier}","global_apiid":"01a09d5e-6231-48a5-ba78-7654cb6a11c0","global_region":"","goto":"dataStore-definition-1114527599","guid":"api-definition-1114874190","host":"c3.secretsmgr.cyberark.cloud/api","id":"api-definition-1114874190","logo":"https://d2jvs8ec336vde.cloudfront.net/cyberark.png","nodeType":"API","scheme":["https"],"version":"5.1.1","builder-auth-id":"9f0237dd-8f7a-436c-9595-69f9055be728"},"dataStore-definition-1114527599":{"dataStore-map-values":{"data":[],"dataname":[{"ref":"text","value":"conjur-partner-user-policy-template","_id":"MID37255833547370987"}]},"dataStoreName":"Get partner user policy template","datastoreType":"read","definition-id":"1114527599","goto":"transformdata-definition-1115164424","guid":"dataStore-definition-1114527599","id":"dataStore-definition-1114527599","isDatastore":true,"nodeType":"DSRead","schema":{},"type":"datastore"},"transformdata-definition-1115164424":{"definition-id":"1115164424","function":{"value":"ReplaceAll","ref":"expression","type":"function","params":[{"value":"MapValue","ref":"expression","type":"function","params":[{"type":"string","ref":"expression","value":"dataStore-definition-1114527599"},{"type":"string","ref":"expression","value":"datastorevalue"}],"member":true,"source":"MapValue(`dataStore-definition-1114527599`,`datastorevalue`)","minArgCount":0,"isAllowEmpty":false},{"value":"{{PARTNER_NAME}}","ref":"expression","type":"string","params":[],"source":"`{{PARTNER_NAME}}`","minArgCount":0,"isAllowEmpty":false},{"value":"MapValue","ref":"expression","type":"function","params":[{"type":"string","ref":"expression","value":"form-definition-1114070838"},{"type":"string","ref":"expression","value":"partnerName"}],"source":"MapValue(`form-definition-1114070838`,`partnerName`)","minArgCount":0,"isAllowEmpty":false}],"source":"ReplaceAll(MapValue(`dataStore-definition-1114527599`,`datastorevalue`),`{{PARTNER_NAME}}`,MapValue(`form-definition-1114070838`,`partnerName`))","minArgCount":3,"isAllowEmpty":false,"_id":"f2b604a1-18e7-4273-8bf8-11fb98950817","logo":"/pages-gateway/assets/images/formula-white-search.svg"},"goto":"transformdata-definition-1117125118","guid":"transformdata-definition-1115164424","id":"transformdata-definition-1115164424","isTransformData":true,"nodeType":"Transform","schema":{},"transformdataname":"Inject partner name in user policy","transformuniqueid":"transformdata-definition-1115164424","type":"transformdata"},"transformdata-definition-1117125118":{"type":"transformdata","transformuniqueid":"transformdata-definition-1117125118","id":"transformdata-definition-1117125118","transformdataname":"Inject user name in user policy","schema":{},"isTransformData":true,"function":{"value":"ReplaceAll","ref":"expression","type":"function","params":[{"value":"MapValue","ref":"expression","type":"function","params":[{"type":"string","ref":"expression","value":"transformdata-definition-1115164424"},{"type":"string","ref":"expression","value":"transformedvalue"}],"source":"MapValue(`transformdata-definition-1115164424`,`transformedvalue`)","minArgCount":0,"isAllowEmpty":false},{"value":"{{ISPSS_PARTNER_USERNAME}}","ref":"expression","type":"string","params":[],"source":"`{{ISPSS_PARTNER_USERNAME}}`","minArgCount":0,"isAllowEmpty":false},{"value":"MapValue","ref":"expression","type":"function","params":[{"type":"string","ref":"expression","value":"form-definition-1114070838"},{"type":"string","ref":"expression","value":"userName"}],"source":"MapValue(`form-definition-1114070838`,`userName`)","minArgCount":0,"isAllowEmpty":false}],"source":"ReplaceAll(MapValue(`transformdata-definition-1115164424`,`transformedvalue`),`{{ISPSS_PARTNER_USERNAME}}`,MapValue(`form-definition-1114070838`,`userName`))","minArgCount":3,"isAllowEmpty":false,"_id":"616ff707-7fc8-4ea1-b24d-7443cd588187","logo":"/pages-gateway/assets/images/formula-white-search.svg"},"definition-id":"1117125118","goto":"api-definition-1118152201","nodeType":"Transform","guid":"transformdata-definition-1117125118"},"api-definition-1118152201":{"api-authentication":{"auth-all-scopes":null,"auth-apikey-location":"","auth-apikey-name":"","auth-apikey-value":"","auth-clientid":"*******","auth-clientsecret":"*******","auth-content-type":"application/json","auth-flow":"accessCode","auth-password":"","auth-refresh-token":"","auth-scopes":[],"auth-token":"","auth-token-url":"https://aax4917.id.cyberark.cloud/oauth2/token/C3_Identity_Flows","auth-type":"oauth2","auth-url":"https://aax4917.id.cyberark.cloud/oauth2/authorize/C3_Identity_Flows","auth-userid":"","smtp-server-port":0,"smtp-server-url":""},"api-call-body":[{"ref":"text","value":"","_id":"MID5007993175232175"},{"description":"Inject user name in user policy","ref":"transformdata-definition-1117125118","name":"Tranformed Value","value":"transformedvalue","type":"{}","maskParameter":false,"_id":"MID8949464848140016"},{"ref":"text","value":"","_id":"MID5873576821934305"}],"api-call-contenttype":"application/json","api-call-form":{},"api-call-header":{"Authorization":[{"_id":"MID5442959881091074","ref":"text","value":""}]},"api-call-path":{"account":[{"_id":"MID1955231260321102","ref":"text","value":"conjur"}],"identifier":[{"_id":"MID6026609643734304","ref":"text","value":"data/vault"}]},"api-call-query":{},"api-call-type":"post","api-description":"loadPolicy","api-map-config":{"api-call-body":{"description":"Policy","location":"body","name":"body","webhookInput":null,"webhookValidation":null,"required":false,"prompt":false,"defaultParameter":true},"api-call-form":{},"api-call-header":{"Authorization":{"description":"","location":"header","name":"Authorization","type":"string","webhookInput":null,"webhookValidation":null,"required":false,"prompt":false,"defaultParameter":true}},"api-call-path":{"account":{"description":"Organization account name","location":"path","name":"account","type":"string","webhookInput":null,"webhookValidation":null,"required":false,"prompt":false,"defaultParameter":true},"identifier":{"description":"ID of the policy to update","location":"path","name":"identifier","type":"string","webhookInput":null,"webhookValidation":null,"required":false,"prompt":false,"defaultParameter":true}},"api-call-query":{}},"api-map-desc":{"api-call-body":"","api-call-form":{},"api-call-header":{},"api-call-path":{},"api-call-query":{}},"apiid":"00569c36-a122-4c46-9ca1-4f2e09cd9b2f","apiname":"Load Policy","apiuniqueid":"","appname":"Conjur","authRequired":false,"basePath":"/","company":"CyberArk","definition-id":"1118152201","endpoint":"/policies/{account}/policy/{identifier}","global_apiid":"01a09d5e-6231-48a5-ba78-7654cb6a11c0","global_region":"","goto":"dataStore-definition-1114875920","guid":"api-definition-1118152201","host":"c3.secretsmgr.cyberark.cloud/api","id":"api-definition-1118152201","logo":"https://d2jvs8ec336vde.cloudfront.net/cyberark.png","nodeType":"API","scheme":["https"],"version":"5.1.1","builder-auth-id":"9f0237dd-8f7a-436c-9595-69f9055be728"},"dataStore-definition-1114875920":{"dataStore-map-values":{"data":[],"dataname":[{"ref":"text","value":"conjur-partner-workload-policy-template","_id":"MID6457033638688361"}]},"dataStoreName":"Get partner workload policy template","datastoreType":"read","definition-id":"1114875920","goto":"transformdata-definition-1111196445","guid":"dataStore-definition-1114875920","id":"dataStore-definition-1114875920","isDatastore":true,"nodeType":"DSRead","schema":{},"type":"datastore"},"transformdata-definition-1111196445":{"definition-id":"1111196445","function":{"value":"ReplaceAll","ref":"expression","type":"function","params":[{"value":"MapValue","ref":"expression","type":"function","params":[{"type":"string","ref":"expression","value":"dataStore-definition-1114875920"},{"type":"string","ref":"expression","value":"datastorevalue"}],"member":true,"source":"MapValue(`dataStore-definition-1114875920`,`datastorevalue`)","minArgCount":0,"isAllowEmpty":false},{"value":"{{PARTNER_NAME}}","ref":"expression","type":"string","params":[],"source":"`{{PARTNER_NAME}}`","minArgCount":0,"isAllowEmpty":false},{"value":"MapValue","ref":"expression","type":"function","params":[{"type":"string","ref":"expression","value":"form-definition-1114070838"},{"type":"string","ref":"expression","value":"partnerName"}],"source":"MapValue(`form-definition-1114070838`,`partnerName`)","minArgCount":0,"isAllowEmpty":false}],"source":"ReplaceAll(MapValue(`dataStore-definition-1114875920`,`datastorevalue`),`{{PARTNER_NAME}}`,MapValue(`form-definition-1114070838`,`partnerName`))","minArgCount":3,"isAllowEmpty":false,"_id":"75a01013-c725-4f79-a693-9f592c029e17","logo":"/pages-gateway/assets/images/formula-white-search.svg"},"goto":"api-definition-1119172348","guid":"transformdata-definition-1111196445","id":"transformdata-definition-1111196445","isTransformData":true,"nodeType":"Transform","schema":{},"transformdataname":"Inject partner name in workload polciy","transformuniqueid":"transformdata-definition-1111196445","type":"transformdata"},"api-definition-1119172348":{"api-authentication":{"auth-apikey-location":"","auth-apikey-name":"","auth-apikey-value":"*******","auth-clientid":"","auth-clientsecret":"","auth-content-type":"","auth-flow":"","auth-password":"","auth-refresh-token":"","auth-scopes":[],"auth-token":"","auth-token-type":"","auth-type":"","auth-userid":""},"api-call-body":[{"ref":"text","value":"","_id":"MID47441702553389176"},{"description":"Inject partner name in workload polciy","ref":"transformdata-definition-1111196445","name":"Tranformed Value","value":"transformedvalue","type":"{}","maskParameter":false,"_id":"MID36946103823535337"},{"ref":"text","value":"","_id":"MID986322042820647"}],"api-call-contenttype":"application/json","api-call-form":{},"api-call-header":{"Authorization":[{"_id":"MID7170118276207715","ref":"text","value":""}]},"api-call-path":{"account":[{"_id":"MID5745678531876599","ref":"text","value":"conjur"}],"identifier":[{"_id":"MID9974103393278373","ref":"text","value":"data"}]},"api-call-query":{},"api-call-type":"post","api-description":"loadPolicy","api-map-config":{"api-call-body":{"description":"Policy","location":"body","name":"body","webhookInput":null,"webhookValidation":null,"required":false,"prompt":false,"defaultParameter":true},"api-call-form":{},"api-call-header":{"Authorization":{"description":"","location":"header","name":"Authorization","type":"string","webhookInput":null,"webhookValidation":null,"required":false,"prompt":false,"defaultParameter":true}},"api-call-path":{"account":{"description":"Organization account name","location":"path","name":"account","type":"string","webhookInput":null,"webhookValidation":null,"required":false,"prompt":false,"defaultParameter":true},"identifier":{"description":"ID of the policy to update","location":"path","name":"identifier","type":"string","webhookInput":null,"webhookValidation":null,"required":false,"prompt":false,"defaultParameter":true}},"api-call-query":{}},"api-map-desc":{"api-call-body":"","api-call-form":{},"api-call-header":{},"api-call-path":{},"api-call-query":{}},"apiid":"00569c36-a122-4c46-9ca1-4f2e09cd9b2f","apiname":"Load Policy","apiuniqueid":"","appname":"Conjur","authRequired":false,"basePath":"/","company":"CyberArk","definition-id":"1119172348","endpoint":"/policies/{account}/policy/{identifier}","global_apiid":"01a09d5e-6231-48a5-ba78-7654cb6a11c0","global_region":"","goto":"email-definition-1111089686","guid":"api-definition-1119172348","host":"c3.secretsmgr.cyberark.cloud/api","id":"api-definition-1119172348","logo":"https://d2jvs8ec336vde.cloudfront.net/cyberark.png","nodeType":"API","scheme":["https"],"version":"5.1.1","builder-auth-id":"9f0237dd-8f7a-436c-9595-69f9055be728"},"email-definition-1111089686":{"api-authentication":{"auth-apikey-location":"","auth-apikey-name":"","auth-apikey-value":"","auth-clientid":"","auth-clientsecret":"","auth-flow":"","auth-password":"","auth-refresh-token":"","auth-scopes":[],"auth-content-type":"","auth-token":"","auth-token-type":"","auth-token-url":"","auth-type":"","auth-url":"","auth-userid":"","smtp-server-url":""},"definition-id":"1111089686","email-map-values":{"bcc":[],"cc":[],"from":[],"htmlcontent":[],"plaincontent":[{"_id":"MID22117839092138203","ref":"text","value":"Per your request, A C3 partner named \""},{"description":"Conjur Partner Onboarding Values","ref":"form-definition-1114070838","name":"Partner Name","value":"partnerName","maskParameter":true,"_id":"MID6788064834685479"},{"ref":"text","_id":"MID22353099484365657","value":"\" was onboarded and a user named \""},{"description":"Conjur Partner Onboarding Values","ref":"form-definition-1114070838","name":"ISPSS Partner User Name","value":"userName","maskParameter":false,"_id":"MID09228390612531889"},{"ref":"text","_id":"MID44001369085540265","value":"\" was given access to the partner safe variables.  You're welcome!!"}],"subject":[{"_id":"MID049163675543644425","ref":"text","value":"Provisioning confirmation"}],"to":[{"_id":"MID618630204352163","ref":"text","value":""},{"_id":"MID9549576590902018","ref":"aapilet-webhook-request-body","title":" Requestor","type":"(s)","value":"requestor(s)"},{"_id":"MID6475066066405144","ref":"text","value":""}]},"emailName":"Confirmation","goto":"api-condition-stop-definition-1115413343","guid":"email-definition-1111089686","id":"email-definition-1111089686","isEmail":true,"nodeType":"Email","schema":{},"type":"email"},"api-condition-stop-definition-1115413343":{"condition-id":"1115413343","condition-type":"stop","customresponse":false,"guid":"api-condition-stop-definition-1115413343","id":"api-condition-stop-definition-1115413343","killconnection":true,"nodeType":"Stop","responseformat":{"content-type":"application/json","response-body":[{"_id":"MID3167117480032713","ref":"text","value":""},{"_id":"MID02650163074477896","description":"api-1111427377","maskParameter":false,"name":"Body","ref":"api-definition-1111427377","value":"body"},{"_id":"MID15046376908732761","ref":"text","value":""}],"response-config":{"response-header":{},"response-body":{"name":"body"}},"response-header":{}},"usecustomresponse":false}},"enabled":false}}